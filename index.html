<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>跑步计时器</title>
<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
  }
  .timer {
    font-size: 2em;
    margin: 20px;
  }
  .controls {
    margin: 20px;
  }
  .button {
    padding: 10px 20px;
    font-size: 1em;
    cursor: pointer;
  }
</style>
</head>
<body>

<h1>今天你约跑了吗？</h1>
<p>一起跑个步吧！</p>

<div class="timer" id="timer">00:00:00</div>
<div class="controls">
  <button class="button" onclick="startTimer()">开始</button>
  <button class="button" onclick="stopTimer()">暂停</button>
  <button class="button" onclick="resetTimer()">重置</button>
  <button class="button" onclick="countLap()">记次</button>
</div>

<script>
  var timerInterval;
  var startTime;
  var elapsedTime = 0;
  var lapTimes = [];

  function startTimer() {
    startTime = new Date().getTime();
    timerInterval = setInterval(updateTimer, 100);
  }

  function stopTimer() {
    clearInterval(timerInterval);
    var endTime = new Date().getTime();
    elapsedTime = (endTime - startTime) / 1000;
  }

  function resetTimer() {
    clearInterval(timerInterval);
    elapsedTime = 0;
    lapTimes = [];
    document.getElementById('timer').textContent = '00:00:00';
  }

  function updateTimer() {
    var currentTime = new Date().getTime();
    elapsedTime = (currentTime - startTime) / 1000;
    document.getElementById('timer').textContent = formatTime(elapsedTime);
  }

  function formatTime(time) {
    var hours = Math.floor(time / 3600);
    var minutes = Math.floor((time % 3600) / 60);
    var seconds = Math.floor(time % 60);
    return (hours < 10 ? '0' + hours : hours) + ':' +
           (minutes < 10 ? '0' + minutes : minutes) + ':' +
           (seconds < 10 ? '0' + seconds : seconds);
  }

  function countLap() {
    stopTimer();
    var lapTime = formatTime(elapsedTime);
    lapTimes.push(lapTime);
    alert('当前圈数时间: ' + lapTime + '\n总圈数时间: ' + lapTimes.join(', '));
    resetTimer();
  }
</script>

</body>
</html>